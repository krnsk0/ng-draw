<div class="properties-container">
  <div *ngIf="!getSelectedShapes().length">
    <div>
      <div class="row">No shapes selected</div>
    </div>
  </div>
  <div *ngFor="let shape of getSelectedShapes()" class="shape-container">
    <div class="row">
      <div class="shape-title">{{ shape.type }}</div>
      <button type="button" class="delete-button" (click)="handleDelete(shape.id)">Delete</button>
    </div>
    <div *ngIf="isCircle(shape)">
      <div class="row">
        <label>center x</label>
        <div>{{ shape.x }}</div>
      </div>
      <div class="row">
        <label>center y</label>
        <div>{{ shape.y }}</div>
      </div>
      <div class="row">
        <label>radius</label>
        <input
          type="range"
          [min]="minCircleRadius"
          [max]="maxCircleRadius"
          (input)="sceneService.setShapeProperty(shape.setRadiusFactory(), $event)"
          [value]="shape.radius"
        />
      </div>
    </div>
    <div *ngIf="isRectangle(shape)">
      <div class="row">
        <div>x</div>
        <div>{{ shape.x }}</div>
      </div>
      <div class="row">
        <div>y</div>
        <div>{{ shape.y }}</div>
      </div>
      <div class="row">
        <label>width</label>
        <input
          type="range"
          [min]="minRectangleSide"
          [max]="maxRectangleSide"
          (input)="sceneService.setShapeProperty(shape.setWidthFactory(), $event)"
          [value]="shape.width"
        />
      </div>
      <div class="row">
        <label>height</label>
        <input
          type="range"
          [min]="minRectangleSide"
          [max]="maxRectangleSide"
          (input)="sceneService.setShapeProperty(shape.setHeightFactory(), $event)"
          [value]="shape.height"
        />
      </div>
    </div>
    <div class="row">
      <label>color</label>
      <div
        class="color-swatch"
        [style.background]="convertColorTripleToString(shape.hslColor)"
        (click)="openModal(shape.id)"
      ></div>
      <app-modal *ngIf="modalOpen" (overlayClick)="cancelModal()">
        <div class="modal-flex">
          <div
            class="color-swatch-modal"
            [style.background]="convertColorTripleToString(tempHslModalColor)"
          ></div>
          <div>
            <label class="modal-label">H</label>
            <input
              type="range"
              min="0"
              max="360"
              (input)="handleColorInput(0, $event)"
              [value]="shape.hslColor[0]"
            />
          </div>
          <div>
            <label class="modal-label">S</label>
            <input
              type="range"
              min="0"
              max="100"
              (input)="handleColorInput(1, $event)"
              [value]="shape.hslColor[1]"
            />
          </div>
          <div>
            <label class="modal-label">L</label>
            <input
              type="range"
              min="0"
              max="100"
              (input)="handleColorInput(2, $event)"
              [value]="shape.hslColor[2]"
            />
          </div>
          <div class="modal-button-container">
            <button type="button" class="modal-button" (click)="cancelModal()">cancel</button>
            <button type="button" class="modal-button" (click)="modalOk()">ok</button>
          </div>
        </div>
      </app-modal>
    </div>
  </div>
</div>
